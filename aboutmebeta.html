<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            font-family: Hepta Slab, sans-serif;
            font-weight: 500;
            background: #efecdb;
            color: #5D4037;
        }

        * {
            box-sizing: border-box;
        }

        /* hide scrollbar */
        ::-webkit-scrollbar {
            width: 1px;
            height: 1px;
        }

        ::-webkit-scrollbar-button {
            width: 1px;
            height: 1px;
        }

        .external {
            overflow: hidden;
            height: 100vh;
        }

        .horizontal-scroll-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100vh;
            transform: rotate(-90deg) translate3d(0, -100vh, 0);
            transform-origin: right top;
            overflow-y: auto;
            overflow-x: hidden;
            padding: 0;
            height: 100vw;
            perspective: 1px;
            transform-style: preserve-3d;
            padding-bottom: 10rem;
        }

        .img-wrapper {
            transform: rotate(90deg);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 40vh;
            transform-origin: 50% 50%;
            transform: rotate(90deg) translateZ(.1px) scale(0.9) translateX(0px) translateY(-3vh);
            transition: 1s;
        }

        .img-wrapper:hover {
            min-height: 65vh;
        }

        .slower {
            transform: rotate(90deg) translateZ(-.2px) scale(1.1) translateX(0%) translateY(-10vh);
        }

        .slower1 {
            transform: rotate(90deg) translateZ(-.25px) scale(1.05) translateX(0%) translateY(8vh);
        }

        .slower2 {
            transform: rotate(90deg) translateZ(-.3px) scale(1.3) translateX(0%) translateY(2vh);
        }

        .slower-down {
            transform: rotate(90deg) translateZ(-.2px) scale(1.1) translateX(0%) translateY(16vh);
        }

        .faster {
            transform: rotate(90deg) translateZ(.15px) scale(0.8) translateX(0%) translateY(14vh);
        }

        .faster1 {
            transform: rotate(90deg) translateZ(.05px) scale(0.8) translateX(0%) translateY(10vh);
        }

        .fastest {
            transform: rotate(90deg) translateZ(.22px) scale(0.7) translateX(-10vh) translateY(-15vh);
        }

        .vertical {
            transform: rotate(90deg) translateZ(-.15px) scale(1.15) translateX(0%) translateY(0%);
        }

        .last {
            transform: rotate(90deg) translateZ(-.2px) scale(1.1) translateX(25vh) translateY(-8vh);
        }

        .scroll-info,
        header {
            position: absolute;
            left: 1rem;
        }


        header {
            bottom: 1rem;
        }

        .scroll-info {
            top: 1rem;
        }

        a {
            color: inherit;
            font-weight: 500;

        }

        h1 {
            font-weight: 300;
            font-size: 1rem;
        }

        .img-wrapper a {
            overflow: hidden;
            display: block;
            padding: 1vh;
            background: #efecdb;
            box-shadow: 0 10px 50px #5f2f1182;
        }

        img {
            max-width: 45vh;
            max-height: 50vh;
            transition: .5s;
            vertical-align: top;
            filter: saturate(40%) sepia(30%) hue-rotate(5deg);
        }

        a:hover img {
            filter: none;
        }

        p {
            margin: 0;
        }

        .scroll-info {
            display: flex;
            align-items: center;
        }

        .icon svg {
            width: 50px;
            fill: currentcolor;
        }
    </style>
</head>

<body>
    <div class="external">
        <div class="horizontal-scroll-wrapper">
            <div class="img-wrapper slower">
                <a href="https://altphotos.com/photo/stylish-parisian-cafe-terrace-279/" target="_blank"
                    rel="noopener"><img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/74321/paris-cafe-terrace.jpg"
                        alt="">
                </a>
            </div>

            <div class="img-wrapper faster">
                <a href="https://altphotos.com/photo/retro-boy-doll-wearing-elegant-clothes-330/" target="_blank"
                    rel="noopener">
                    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/74321/antiquedollboy.jpg" alt="">
                </a>
            </div>

            <div class="img-wrapper slower vertical">
                <a href="https://altphotos.com/photo/clocks-shop-exposition-window-reflecting-the-streets-277/"
                    target="_blank" rel="noopener">
                    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/74321/windowshopclock.jpg" alt="">
                </a>
            </div>

            <div class="img-wrapper slower slower-down">
                <a href="https://altphotos.com/photo/swans-and-ducks-swimming-in-a-river-264/" target="_blank"
                    rel="noopener">
                    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/74321/swanduckriver.jpg" alt="">
                </a>
            </div>

            <div class="img-wrapper">
                <a href="https://altphotos.com/photo/sidewalk-terrace-of-a-blue-facade-cafe-312/" target="_blank"
                    rel="noopener">
                    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/74321/cafe-terrace.jpg" alt="">
                </a>
            </div>

            <div class="img-wrapper slower">
                <a href="https://altphotos.com/photo/paris-waterfront-at-sunset-1555/" target="_blank" rel="noopener">
                    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/74321/paris-seine-boat.jpg" alt="">
                </a>
            </div>

            <div class="img-wrapper faster1">
                <a href="https://altphotos.com/photo/old-man-leaning-over-the-barrier-looking-at-the-river-265/"
                    target="_blank" rel="noopener">
                    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/74321/old-man-river.jpg" alt="">
                </a>
            </div>

            <div class="img-wrapper slower slower2">
                <a href="https://altphotos.com/photo/cafe-terrace-with-a-row-of-retro-tables-261/" target="_blank"
                    rel="noopener">
                    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/74321/cafe-table-street.jpg" alt="">
                </a>
            </div>

            <div class="img-wrapper">
                <a href="https://altphotos.com/photo/street-scene-with-pedestrians-and-dogs-318/" target="_blank"
                    rel="noopener">
                    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/74321/street-scene-people.jpg" alt="">
                </a>
            </div>

            <div class="img-wrapper slower">
                <a href="https://altphotos.com/photo/tourist-barge-on-the-river-seine-near-notre-dame-266/"
                    target="_blank" rel="noopener">
                    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/74321/notre-dame-river-boat.jpg" alt="">
                </a>
            </div>

            <div class="img-wrapper slower last">
                <a href="https://altphotos.com/photo/skulls-decoration-in-a-shop-window-331/" target="_blank"
                    rel="noopener">
                    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/74321/shop-window-reflection.jpg" alt="">
                </a>
            </div>
        </div>

    </div>

    <script>
        const math = {
            lerp: (a, b, n) => {
                return (1 - n) * a + n * b;
            },
            norm: (value, min, max) => {
                return (value - min) / (max - min);
            }
        };
        const config = {
            height: window.innerHeight,
            width: window.innerWidth
        };

        class Smooth {
            constructor() {
                this.bindAll();
                this.el = document.querySelector('[data-scroll]');
                this.content = [...document.querySelectorAll('[data-scroll-content]')];
                this.dom = {
                    el: this.el,
                    content: this.content,
                    elems: [[...this.content[0].querySelectorAll('.js-slide')], [...this.content[1].querySelectorAll('.js-slide')]],
                    handle: this.el.querySelector('.js-scrollbar__handle')
                };
                this.data = {
                    total: this.dom.elems[0].length - 1,
                    current: 0,
                    last: {
                        one: 0,
                        two: 0
                    },
                    on: 0,
                    off: 0
                };
                this.bounds = {
                    elem: 0,
                    content: 0,
                    width: 0,
                    max: 0,
                    min: 0
                };
                this.state = {
                    dragging: false
                };
                this.rAF = null;
                this.parallax = null;
                this.init();
            }

            bindAll() {
                ['scroll', 'run', 'resize'].forEach(fn => this[fn] = this[fn].bind(this));
            }

            setStyles() {
                this.dom.el.style.position = 'fixed';
                this.dom.el.style.top = 0;
                this.dom.el.style.left = 0;
                this.dom.el.style.height = '100%';
                this.dom.el.style.width = '100%';
                this.dom.el.style.overflow = 'hidden';
            }

            setBounds(elems) {
                let w = 0;
                elems.forEach((el, index) => {
                    const bounds = el.getBoundingClientRect();
                    el.style.position = 'absolute';
                    el.style.top = 0;
                    el.style.left = `${w}px`;
                    w = w + bounds.width;
                    this.bounds.width = w;
                    this.bounds.max = this.bounds.width - config.width;

                    if (this.data.total === index && elems === this.dom.elems[0]) {
                        this.dom.content[0].style.width = `${w}px`;
                        this.dom.content[1].style.width = `${w}px`;
                        document.body.style.height = `${w}px`;
                    }
                });
            }

            resize() {
                this.setBounds(this.dom.elems[0]);
                this.setBounds(this.dom.elems[1]);
                this.scroll();
            }

            preload() {
                imagesLoaded(this.dom.content, instance => {
                    this.setBounds(this.dom.elems[0]);
                    this.setBounds(this.dom.elems[1]);
                });
            }

            scroll() {
                if (this.state.dragging) return;
                this.data.current = window.scrollY;
                this.clamp();
            }

            drag(e) {
                this.data.current = window.scrollY - (e.clientX - this.data.on);
                this.clamp();
            }

            clamp() {
                this.data.current = Math.min(Math.max(this.data.current, 0), this.bounds.max);
            }

            run() {
                this.data.last.one = math.lerp(this.data.last.one, this.data.current, 0.085);
                this.data.last.one = Math.floor(this.data.last.one * 100) / 100;
                this.data.last.two = math.lerp(this.data.last.two, this.data.current, 0.08);
                this.data.last.two = Math.floor(this.data.last.two * 100) / 100;
                const diff = this.data.current - this.data.last.one;
                const acc = diff / config.width;
                const velo = +acc;
                const bounce = 1 - Math.abs(velo * 0.25);
                const skew = velo * 7.5;
                this.dom.content[0].style.transform = `translate3d(-${this.data.last.one.toFixed(2)}px, 0, 0) scaleY(${bounce}) skewX(${skew}deg)`;
                this.dom.content[1].style.transform = `translate3d(-${this.data.last.two.toFixed(2)}px, 0, 0) scaleY(${bounce})`;
                const scale = math.norm(this.data.last.two, 0, this.bounds.max);
                this.dom.handle.style.transform = `scaleX(${scale})`;
                this.requestAnimationFrame();
            }

            on() {
                this.setStyles();
                this.setBounds(this.dom.elems[0]);
                this.setBounds(this.dom.elems[1]);
                this.addEvents();
                this.requestAnimationFrame();
            }

            requestAnimationFrame() {
                this.rAF = requestAnimationFrame(this.run);
            }

            resize() {
                this.setBounds();
            }

            addEvents() {
                window.addEventListener('scroll', this.scroll, {
                    passive: true
                });
                this.dom.el.addEventListener('mousemove', e => {
                    if (!this.state.dragging) return;
                    this.drag(e);
                }, {
                    passive: true
                });
                this.dom.el.addEventListener('mousedown', e => {
                    this.state.dragging = true;
                    this.data.on = e.clientX;
                });
                window.addEventListener('mouseup', () => {
                    this.state.dragging = false;
                    window.scrollTo(0, this.data.current);
                });
            }

            init() {
                this.preload();
                this.on();
            }

        }

        class Transition {
            constructor() {
                this.dom = {
                    mask: document.querySelector('.js-mask'),
                    slices: [...document.querySelectorAll('.js-mask__slice')],
                    triggers: [...document.querySelectorAll('.js-trigger')],
                    lines: [...document.querySelectorAll('.js-mask-line')],
                    logo: document.querySelector('.js-logo'),
                    images: [...document.querySelectorAll('.js-transition-img')],
                    imagesInner: [...document.querySelectorAll('.js-transition-img__inner')],
                    titles: [...document.querySelectorAll('.js-transition-title')]
                };
                this.tl = null;
                this.state = false;
                this.init();
            }

            resetScroll() {
                window.scrollTo(0, 0);
            }

            createTimeline() {
                this.tl = new TimelineMax({
                    paused: true,
                    onComplete: () => {
                        this.state = false;
                    }
                });
                this.tl.set([this.dom.images, this.dom.imagesInner], {
                    xPercent: 0,
                    scale: 1
                }).set(this.dom.titles, {
                    yPercent: 0
                }).set(this.dom.mask, {
                    autoAlpha: 1
                }).staggerFromTo(this.dom.slices, 1.5, {
                    xPercent: 100
                }, {
                    xPercent: 0,
                    ease: Expo.easeInOut
                }, -0.075).addCallback(this.resetScroll.bind(this)).addLabel('loaderStart').set(this.dom.images, {
                    xPercent: -100
                }).set(this.dom.imagesInner, {
                    xPercent: 100
                }).set(this.dom.titles, {
                    yPercent: -100
                }).set([this.dom.lines[0], this.dom.logo], {
                    autoAlpha: 1
                }).fromTo(this.dom.logo, 1, {
                    yPercent: -100,
                    rotation: 10
                }, {
                    yPercent: 0,
                    rotation: 0,
                    ease: Expo.easeOut
                }).staggerFromTo(this.dom.lines, 1, {
                    scaleX: 0
                }, {
                    scaleX: 1,
                    ease: Expo.easeInOut
                }, 0.75, "-=1").set(this.dom.lines, {
                    transformOrigin: 'right'
                }).fromTo(this.dom.lines[0], 1, {
                    scaleX: 1
                }, {
                    scaleX: 0,
                    ease: Expo.easeInOut
                }).fromTo(this.dom.logo, 1, {
                    yPercent: 0
                }, {
                    yPercent: 105,
                    ease: Expo.easeOut
                }, "-=1").staggerFromTo(this.dom.slices, 1.5, {
                    xPercent: 0
                }, {
                    xPercent: 100,
                    ease: Expo.easeInOut
                }, 0.075).set(this.dom.mask, {
                    autoAlpha: 0
                }).addLabel('imagesStart', "-=0.85").staggerFromTo(this.dom.titles, 1.5, {
                    yPercent: 100
                }, {
                    yPercent: 0,
                    ease: Expo.easeInOut
                }, 0.05, 'imagesStart').staggerFromTo(this.dom.images, 1.25, {
                    xPercent: -100
                }, {
                    xPercent: 0,
                    ease: Expo.easeInOut
                }, 0.05, 'imagesStart').staggerFromTo(this.dom.imagesInner, 1.25, {
                    xPercent: 100
                }, {
                    xPercent: 0,
                    ease: Expo.easeInOut
                }, 0.05, 'imagesStart').addLabel('loaderEnd');
            }

            addEvents() {
                this.dom.triggers.forEach(trigger => {
                    trigger.addEventListener('click', e => {
                        e.preventDefault();
                        if (this.state) return;
                        this.dom.triggers.forEach(el => {
                            el.classList.remove('is-active');
                        });
                        trigger.classList.add('is-active');
                        this.state = true;
                        this.tl.restart();
                    });
                });
            }

            loader() {
                this.resetScroll();
                this.tl.tweenFromTo('loaderStart', 'loaderEnd');
            }

            init() {
                this.createTimeline();
                this.addEvents();
                this.loader();
            }

        } // Init classes


        const smooth = new Smooth();
        const transition = new Transition(); // See shot - hover

        const btn = document.querySelector('.js-menu-btn');
        btn.addEventListener('mouseenter', () => {
            TweenMax.to('.js-menu-btn__circle--bottom', 0.5, {
                y: 15,
                alpha: 0,
                ease: Expo.easeOut
            });
            TweenMax.set('.js-menu-btn__circle--top', {
                autoAlpha: 1
            });
            TweenMax.fromTo('.js-menu-btn__circle--top', 0.75, {
                y: -60
            }, {
                y: 0,
                ease: Bounce.easeOut
            });
        });
        btn.addEventListener('mouseleave', () => {
            TweenMax.to('.js-menu-btn__circle--top', 0.5, {
                y: 15,
                alpha: 0,
                ease: Expo.easeOut
            });
            TweenMax.set('.js-menu-btn__circle--bottom', {
                autoAlpha: 1
            });
            TweenMax.fromTo('.js-menu-btn__circle--bottom', 0.75, {
                y: -60
            }, {
                y: 0,
                ease: Bounce.easeOut
            });
        });
    </script>
</body>

</html>